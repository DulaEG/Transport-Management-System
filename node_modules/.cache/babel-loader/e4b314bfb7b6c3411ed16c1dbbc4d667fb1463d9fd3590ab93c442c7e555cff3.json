{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dulas\\\\Desktop\\\\Transport-Management-System\\\\frontend\\\\src\\\\modules\\\\pages\\\\Auth\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { LockOutlined, UserOutlined } from \"@ant-design/icons\";\nimport { Button, Checkbox, Form, Input, ConfigProvider, message } from \"antd\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const handleLogin = async () => {\n    try {\n      setLoading(true);\n      const user = {\n        email,\n        password\n      };\n      const response = await axios.post(\"http://localhost:8080/api/employee/login\", user);\n      setLoading(false);\n      const userData = response.data;\n      if (userData.status === \"Suspended\") {\n        message.error(\"Your account has been suspended\");\n        navigate(\"/#\");\n        return;\n      }\n\n      // Mark attendance\n      await axios.post(\"http://localhost:8080/api/attendance/mark\", {\n        employeeId: userData.loginEmployee._id,\n        date: new Date()\n      });\n      navigate(\"/dashboard\");\n      localStorage.setItem(\"currentUser\", JSON.stringify(userData));\n      localStorage.setItem(\"scrollPosition\", window.pageYOffset);\n    } catch (error) {\n      setLoading(false);\n      message.error(\"Invalid email or password\");\n      setError(true);\n    }\n  };\n  const onFinish = values => {\n    console.log(\"Received values of form: \", values);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-md h-[530px] mx-auto mt-24 mb-24 p-5 border border-gray-300 rounded-md bg-white shadow-md\",\n    children: /*#__PURE__*/_jsxDEV(ConfigProvider, {\n      theme: {\n        components: {\n          Button: {\n            colorPrimary: \"#99707E\"\n          },\n          hover: {\n            color: \"#99707E\"\n          }\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"mt-4 text-xl font-bold\",\n        children: \"Hi, Welcome back!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Enter your credentials to continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        className: \"w-full mt-4\",\n        name: \"normal_login\",\n        initialValues: {\n          remember: true\n        },\n        onFinish: onFinish,\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"username\",\n          rules: [{\n            required: true,\n            message: \"Please input your Username!\"\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {\n              className: \"text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 37\n            }, this),\n            placeholder: \"Email\",\n            className: \"rounded-md\",\n            size: \"large\",\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"password\",\n          rules: [{\n            required: true,\n            message: \"Please input your Password!\"\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input.Password, {\n            prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n              className: \"text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 37\n            }, this),\n            placeholder: \"Password\",\n            className: \"rounded-md\",\n            size: \"large\",\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"remember\",\n            valuePropName: \"checked\",\n            noStyle: true,\n            children: /*#__PURE__*/_jsxDEV(Checkbox, {\n              children: \"Remember me\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"text-blue-500 hover:text-blue-700\",\n            href: \"/#\",\n            children: \"Forgot password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            className: \"w-full bg-[#0071ff] hover:bg-[#fef6ff] active:bg-[#eeeeee] focus:outline-none focus:ring-2 focus:ring-[#c8dafc]\",\n            loading: loading,\n            size: \"large\",\n            onClick: handleLogin,\n            children: \"Log in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 text-center\",\n            children: [\"Don't have an Account\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"text-blue-500 hover:text-blue-700\",\n              href: \"/admin_signup\",\n              children: \"Sign up!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"vsEzwvKt/7qpVVRBzYedGfKQfro=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","LockOutlined","UserOutlined","Button","Checkbox","Form","Input","ConfigProvider","message","useNavigate","axios","jsxDEV","_jsxDEV","Login","_s","email","setEmail","password","setPassword","error","setError","loading","setLoading","navigate","handleLogin","user","response","post","userData","data","status","employeeId","loginEmployee","_id","date","Date","localStorage","setItem","JSON","stringify","window","pageYOffset","onFinish","values","console","log","className","children","theme","components","colorPrimary","hover","color","fileName","_jsxFileName","lineNumber","columnNumber","name","initialValues","remember","Item","rules","required","prefix","placeholder","size","onChange","e","target","value","Password","valuePropName","noStyle","href","type","htmlType","onClick","_c","$RefreshReg$"],"sources":["C:/Users/dulas/Desktop/Transport-Management-System/frontend/src/modules/pages/Auth/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { LockOutlined, UserOutlined } from \"@ant-design/icons\";\nimport { Button, Checkbox, Form, Input, ConfigProvider, message } from \"antd\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst Login = () => {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [error, setError] = useState(false);\n    const [loading, setLoading] = useState(false);\n\n    const navigate = useNavigate();\n\n    const handleLogin = async () => {\n        try {\n            setLoading(true);\n\n            const user = { email, password };\n\n            const response = await axios.post(\"http://localhost:8080/api/employee/login\", user);\n            setLoading(false);\n\n            const userData = response.data;\n\n            if (userData.status === \"Suspended\") {\n                message.error(\"Your account has been suspended\");\n                navigate(\"/#\");\n                return;\n            }\n\n            // Mark attendance\n            await axios.post(\"http://localhost:8080/api/attendance/mark\", {\n                employeeId: userData.loginEmployee._id,\n                date: new Date()\n            });\n\n            navigate(\"/dashboard\");\n\n            localStorage.setItem(\"currentUser\", JSON.stringify(userData));\n            localStorage.setItem(\"scrollPosition\", window.pageYOffset);\n        } catch (error) {\n            setLoading(false);\n            message.error(\"Invalid email or password\");\n            setError(true);\n        }\n    };\n\n    const onFinish = (values) => {\n        console.log(\"Received values of form: \", values);\n    };\n\n    return (\n        <div className=\"max-w-md h-[530px] mx-auto mt-24 mb-24 p-5 border border-gray-300 rounded-md bg-white shadow-md\">\n            <ConfigProvider\n                theme={{\n                    components: {\n                        Button: {\n                            colorPrimary: \"#99707E\",\n                        },\n                        hover: {\n                            color: \"#99707E\",\n                        },\n                    },\n                }}\n            >\n                <h4 className=\"mt-4 text-xl font-bold\">Hi, Welcome back!</h4>\n                <p className=\"text-gray-600\">Enter your credentials to continue</p>\n                <Form\n                    className=\"w-full mt-4\"\n                    name=\"normal_login\"\n                    initialValues={{ remember: true }}\n                    onFinish={onFinish}\n                >\n                    <Form.Item\n                        name=\"username\"\n                        rules={[\n                            { required: true, message: \"Please input your Username!\" }\n                        ]}\n                    >\n                        <Input\n                            prefix={<UserOutlined className=\"text-gray-400\" />}\n                            placeholder=\"Email\"\n                            className=\"rounded-md\"\n                            size=\"large\"\n                            onChange={(e) => setEmail(e.target.value)}\n                        />\n                    </Form.Item>\n\n                    <Form.Item\n                        name=\"password\"\n                        rules={[\n                            { required: true, message: \"Please input your Password!\" }\n                        ]}\n                    >\n                        <Input.Password\n                            prefix={<LockOutlined className=\"text-gray-400\" />}\n                            placeholder=\"Password\"\n                            className=\"rounded-md\"\n                            size=\"large\"\n                            onChange={(e) => setPassword(e.target.value)}\n                        />\n                    </Form.Item>\n\n                    <Form.Item className=\"flex items-center justify-between\">\n                        <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\n                            <Checkbox>Remember me</Checkbox>\n                        </Form.Item>\n\n                        <a className=\"text-blue-500 hover:text-blue-700\" href=\"/#\">\n                            Forgot password\n                        </a>\n                    </Form.Item>\n\n                    <Form.Item>\n                        <Button\n                            type=\"primary\"\n                            htmlType=\"submit\"\n                            className=\"w-full bg-[#0071ff] hover:bg-[#fef6ff] active:bg-[#eeeeee] focus:outline-none focus:ring-2 focus:ring-[#c8dafc]\"\n                            loading={loading}\n                            size=\"large\"\n                            onClick={handleLogin}\n                        >\n                            Log in\n                        </Button>\n                        <div className=\"mt-3 text-center\">\n                            Don't have an Account{\" \"}\n                            <a className=\"text-blue-500 hover:text-blue-700\" href=\"/admin_signup\">\n                                Sign up!\n                            </a>\n                        </div>\n                    </Form.Item>\n                </Form>\n            </ConfigProvider>\n        </div>\n    );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}